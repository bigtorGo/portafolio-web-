<script>
    document.addEventListener("DOMContentLoaded", function () {//con esta funcion le digo al siistema que ejecute el script luego de cargar el documento html. Sin esta función el "script" debería ir al final del archivo(luego de la parte html)

        const jobTitleElement = document.getElementById('jobTitle');
        //jobTitleElement.innerText= ;
        const jobSection = document.querySelector('#jobSection');
        const articles = jobSection.querySelectorAll('article');
        const jobButton1 = document.getElementById('jobButton1');

        jobSection.addEventListener('click', (event) => {
            const id = event.target.dataset.id//de esta forma obtendremos el id del elemento sobre el que se ha hecho click en la sección de experiencia laboral.
            if (id) {
                if (jobButton1.classList.contains("bg-white")) {
                    //se debe remover "border-sky-500  bg-white dark:bg-slate-700"
                    console.log("se encontro un elemento seleccionado: ", jobButton1.id)
                    jobButton1.classList.remove("border-sky-500");
                    jobButton1.classList.remove("bg-white");
                    jobButton1.classList.remove("dark:bg-slate-700");
                    jobButton1.classList.add("border-gray-900");
                }

                /*jobButtons.forEach((button)=>{
                    //el boton seleccionado anterior debe volver a estar "no seleccionado"
                    if(button.classList.contains("bg-white")){
                        //se debe remover "border-sky-500  bg-white dark:bg-slate-700"
                        console.log("se encontro un elemento seleccionado: ",button.id)
                        button.classList.remove("border-sky-500");
                        button.classList.remove("bg-white");
                        button.classList.add("border-gray-900");
            
                    }
            
                }) */
                articles.forEach((article) => {
                    if (article.id === id) {
                        article.classList.remove('hidden');

                    } else {
                        article.classList.add('hidden')

                    }


                })
            }
        })


    });

</script>

<section id="jobSection" class="my-12 flex flex-col w-[80%] m-auto  ">
    <!--Para hacer columna en pantallas grandes usar: "lg:flex-row lg:w-[87%] lg:my-28"-->

    <div class="flex justify justify-between"><!--para pantalla grande: lg:flex-col lg:w-[20%] -->
        <button type="button" id="jobButton1" data-id="job1"
            class="border-sky-500  bg-white border-b-2  dark:bg-slate-700 hover:bg-cyan-200 focus:border-sky-500 focus:bg-cyan-500 focus:dark:bg-slate-700 hover:dark:bg-slate-700 w-full px-4 py-1">Experiencia
            1
        </button><!--"lg:text-left lg:border-l-2 lg:border-b-0 lg:h-full" -->
        <!--Por defecto el primer boton debe estar "selecionado". Para eso se usan los estilos "border-sky-500  bg-white dark:bg-slate-700" -->
        <button type="button" id="jobButton2" data-id="job2"
            class="border-gray-900 border-b-2 hover:bg-cyan-200 focus:border-sky-500 focus:bg-cyan-500 focus:dark:bg-slate-700 hover:dark:bg-slate-700 w-full px-4 py-1">Experiencia
            2
        </button>
        <button type="button" id="jobButton3" data-id="job3"
            class="border-gray-900 border-b-2 hover:bg-cyan-200 focus:border-sky-500 focus:bg-cyan-500 focus:dark:bg-slate-700  hover:dark:bg-slate-700 w-full px-4 py-1">Experiencia
            3
        </button>
    </div>
    <!--COntenido de cada experiencia laboral-->
    <!--contenedor articulo de experiencia laboral-->
    <div class="my-6 lg:px-10 lg:max-w-auto"> <!--lg:max-w-[800px]-->
        
        <article id="{{getFirstJobData "id"}}">
            <h3 id="jobTitle" class="text-xl "> {{getFirstJobData "title"}} en <a target="_blank" href="{{getFirstJobData "urlWeb"}}"
                    class="text-sky-500 font-bold text-lg px-2"> {{getFirstJobData "enterprice"}} </a>
            </h3>


            <div class="flex justify-between items-baseline">
                <address class="text-sm">{{getFirstJobData "address"}} </address>
                <h4 class="text-sm mr-10">{{getFirstJobData "period"}}</h4>
            </div>

            <p class="mt-6 mb-3 text-lg ">{{getFirstJobData "description"}}</p>
            <ul>

                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getFirstJobData "goal1"}}
                    </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getFirstJobData "goal2"}}
                    </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getFirstJobData "goal3"}} </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getFirstJobData "goal4"}} </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getFirstJobData "goal5"}} </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getFirstJobData "goal6"}} </p>
                </li>

            </ul>
        </article>
        <!--Articulos ocultos por defecto-->
        <article id="{{getSecondJobData "id"}}" class="hidden">

            <h3 class="text-lg "> {{getSecondJobData "title"}} <span
                    class="text-sky-500 font-bold text-lg px-2">{{getSecondJobData "enterprice"}}</span>
            </h3>
            <div class="flex justify-between items-baseline">
                <address class="text-sm">{{getSecondJobData "address"}} </address>
                <h4 class="text-sm mr-10">{{getSecondJobData "period"}}</h4>
            </div>
            <p class="mt-6 mb-3 text-lg ">{{getSecondJobData "description"}}</p>


            <ul>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getSecondJobData "goal1"}}</p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getSecondJobData "goal2"}}</p>
                </li>

            </ul>

        </article>
         <article id="{{getThirdJobData "id"}}">
            <h3 id="jobTitle" class="text-xl "> {{getThirdJobData "title"}} en <a target="_blank" href="{{getThirdJobData "urlWeb"}}"
                    class="text-sky-500 font-bold text-lg px-2"> {{getThirdJobData "enterprice"}} </a>
            </h3>


            <div class="flex justify-between items-baseline">
                <address class="text-sm">{{getThirdJobData "address"}} </address>
                <h4 class="text-sm mr-10">{{getThirdJobData "period"}}</h4>
            </div>

            <p class="mt-6 mb-3 text-lg ">{{getThirdJobData "description"}}</p>
            <ul>

                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getThirdJobData "goal1"}}
                    </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getThirdJobData "app1"}}
                    </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getThirdJobData "app2"}} </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getThirdJobData "app3"}} </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getThirdJobData "goal2"}} </p>
                </li>
                <li class="flex items-center py-2">
                    <span class="text-sky-500 font-black">&#9655;</span>
                    <p class="text-stone-900 dark:text-cyan-500 font-normal px-5">{{getThirdJobData "goal3"}} </p>
                </li>

            </ul>
        </article>
        
    </div>

</section>